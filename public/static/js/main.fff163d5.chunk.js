(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),r=n.n(s),c=n(32),o=n.n(c),i=(n(39),n(10)),l=n(11),u=n(13),h=n(12),d=(n(40),n(14)),j=n.n(d),p=n(5),b=n(71),m=n(70),g=(n(58),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={listOfProducts:[]},e.getAllProducts=function(){j.a.get("".concat("https://ironresto.herokuapp.com/","/products")).then((function(t){e.setState({listOfProducts:t.data})})).catch((function(e){return console.log("Error while fetching products",e)}))},e.sortByType=function(t){j.a.get("".concat("https://ironresto.herokuapp.com/","/api/products")).then((function(n){var a=n.data.filter((function(e){return e.type===t.target.id}));e.setState({listOfProducts:a})})).catch((function(e){return console.log("Error while fetching products",e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getAllProducts()}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{children:"Bienvenue chez IronResto"}),Object(a.jsx)("p",{children:"Vous avez faim ? Ca tombe bien !"}),Object(a.jsx)("form",{action:"",children:Object(a.jsx)("input",{type:"text",placeholder:"Chercher un produit"})}),Object(a.jsx)("button",{onClick:this.getAllProducts,children:"Voir tous les produits"}),Object(a.jsx)("button",{onClick:this.sortByType,id:"entree",children:"Entr\xe9es"}),Object(a.jsx)("button",{onClick:this.sortByType,id:"plat",children:"Plats"}),Object(a.jsx)("button",{onClick:this.sortByType,id:"dessert",children:"Desserts"}),Object(a.jsx)("button",{onClick:this.sortByType,id:"boisson",children:"Boissons"}),Object(a.jsx)(b.a,{spaceBetween:56,slidesPerView:1.3,children:this.state.listOfProducts.map((function(e){return Object(a.jsxs)(m.a,{className:"swiper-card",children:[Object(a.jsx)(p.b,{to:"/products/".concat(e._id),children:Object(a.jsx)("img",{src:e.photo,alt:""})}),Object(a.jsx)("h5",{children:e.name}),Object(a.jsxs)("p",{children:[e.price,"\u20ac"]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-orange btn-block",children:"Ajouter au panier"})]},e._id)}))})]})}}]),n}(r.a.Component)),O=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e.getSingleProduct=function(){var t=e.props.match.params;j.a.get("".concat("https://ironresto.herokuapp.com/","/products/").concat(t.id)).then((function(t){var n=t.data;e.setState(n)})).catch((function(e){console.log("Error while fetching product",e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getSingleProduct()}},{key:"render",value:function(){return Object(a.jsxs)("div",{id:"product-detail",children:[Object(a.jsx)("img",{src:this.state.photo,alt:""}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h5",{children:this.state.name}),Object(a.jsx)("h5",{children:this.state.price})]}),Object(a.jsx)("p",{children:this.state.description}),Object(a.jsx)(p.b,{to:"/",children:"Revenir"})]})}}]),n}(s.Component),f=j.a.create({baseURL:"".concat("https://ironresto.herokuapp.com/"),withCredentials:!0});function x(e,t,n,a,s){return f.post("/signup",{username:e,password:t,email:n,phone:a,type:s}).then((function(e){return e.data}))}function v(e,t,n){return f.post("/login",{username:e,password:t,email:n}).then((function(e){return e.data}))}var y=function(e){return Object(a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(a.jsx)("div",{className:"collapse navbar-collapse",children:e.userInSession?Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("img",{src:"logo.png",alt:""})}),Object(a.jsxs)("li",{className:"nav-item",children:["Welcome, ",e.userInSession.username]}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("button",{onClick:function(t){f.post("/logout",{}).then((function(e){return e.data})).then((function(){return e.updateUser(null)}))},children:"Logout"})})]}):Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(p.b,{className:"nav-link",to:"/",children:"Homepage"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(p.b,{className:"nav-link",to:"/signup",children:"Signup"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(p.b,{className:"nav-link",to:"/login",children:"Login"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(p.b,{className:"nav-link",to:"/products",children:"Produits"})})]})})})},N=n(18),w=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",email:"",phone:"",type:"user"},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state.username,a=e.state.password,s=e.state.phone;x(n,a,e.state.email,s,e.state.type).then((function(t){e.setState({username:"",password:"",phone:"",email:"",type:"user"}),e.props.updateUser(t)})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var n=t.target,a=n.name,s=n.value;e.setState(Object(N.a)({},a,s))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"auth",children:[Object(a.jsx)("img",{src:"logo.png",alt:""}),Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email address"}),Object(a.jsx)("input",{type:"email",className:"form-control",placeholder:"Entrez votre email",name:"email",id:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",name:"password",placeholder:"Entrez votre mot de passe",id:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Username"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Entrez votre username",name:"username",id:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Phone"}),Object(a.jsx)("input",{type:"tel",className:"form-control",placeholder:"Entrez votre t\xe9l\xe9phone",name:"phone",id:"phone",value:this.state.phone,onChange:function(t){return e.handleChange(t)}})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-orange btn-block",children:"Sign Up"}),Object(a.jsx)("p",{className:"forgot-password text-right",children:Object(a.jsxs)("p",{children:["Already registered ?",Object(a.jsx)(p.b,{to:"/login",children:"Login"})]})})]})]})}}]),n}(r.a.Component),C=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",email:""},e.handleFormSubmit=function(t){t.preventDefault(),v(e.state.username,e.state.password,e.state.email).then((function(t){e.setState({username:"",password:"",email:""})})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var n=t.target,a=n.name,s=n.value;e.setState(Object(N.a)({},a,s))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"auth",children:[Object(a.jsx)("img",{src:"logo.png",alt:""}),Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("h3",{children:"Login"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email address"}),Object(a.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",name:"email",id:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Username"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter username",name:"username",id:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",name:"password",id:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-orange btn-block",children:"Submit"}),Object(a.jsx)("p",{className:"forgot-password text-right",children:Object(a.jsxs)("p",{children:["Don't have an account ?",Object(a.jsx)(p.b,{to:"/signup",children:"Signup"})]})})]})]})}}]),n}(r.a.Component),k=n(3),S=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loggedInUser:null},e.updateLoggedInUser=function(t){e.setState({loggedInUser:t})},e}return Object(l.a)(n,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&f.get("/loggedin").then((function(e){return e.data})).then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(y,{userInSession:this.state.loggedInUser,updateUser:this.updateLoggedInUser}),Object(a.jsxs)(k.c,{children:[Object(a.jsx)(k.a,{exact:!0,path:"/",component:g}),Object(a.jsx)(k.a,{exact:!0,path:"/login",component:C}),Object(a.jsx)(k.a,{exact:!0,path:"/signup",render:function(){return Object(a.jsx)(w,{updateUser:e.updateLoggedInUser})}}),Object(a.jsx)(k.a,{exact:!0,path:"/products/:id",component:O})]})]})}}]),n}(r.a.Component),U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};n(67);o.a.render(Object(a.jsx)(p.a,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),U()}},[[68,1,2]]]);
//# sourceMappingURL=main.fff163d5.chunk.js.map