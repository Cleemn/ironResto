(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),c=n.n(a),r=n(32),i=n.n(r),o=(n(39),n(10)),l=n(11),u=n(13),d=n(12),h=(n(40),n(14)),j=n.n(h),b=n(5),p=n(71),m=n(70),O=(n(58),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={listOfProducts:[]},e.getAllProducts=function(){j.a.get("http://localhost:5000/api/products").then((function(t){e.setState({listOfProducts:t.data})})).catch((function(e){return console.log("Error while fetching products",e)}))},e.sortByType=function(t){j.a.get("http://localhost:5000/api/products").then((function(n){var s=n.data.filter((function(e){return e.type===t.target.id}));e.setState({listOfProducts:s})})).catch((function(e){return console.log("Error while fetching products",e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getAllProducts()}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{children:"Bienvenue chez IronResto"}),Object(s.jsx)("p",{children:"Vous avez faim ? Ca tombe bien !"}),Object(s.jsx)("form",{action:"",children:Object(s.jsx)("input",{type:"text",placeholder:"Chercher un produit"})}),Object(s.jsx)("button",{onClick:this.getAllProducts,children:"Voir tous les produits"}),Object(s.jsx)("button",{onClick:this.sortByType,id:"entree",children:"Entr\xe9es"}),Object(s.jsx)("button",{onClick:this.sortByType,id:"plat",children:"Plats"}),Object(s.jsx)("button",{onClick:this.sortByType,id:"dessert",children:"Desserts"}),Object(s.jsx)("button",{onClick:this.sortByType,id:"boisson",children:"Boissons"}),Object(s.jsx)(p.a,{spaceBetween:56,slidesPerView:1.3,children:this.state.listOfProducts.map((function(e){return Object(s.jsxs)(m.a,{className:"swiper-card",children:[Object(s.jsx)(b.b,{to:"/products/".concat(e._id),children:Object(s.jsx)("img",{src:e.photo,alt:""})}),Object(s.jsx)("h5",{children:e.name}),Object(s.jsxs)("p",{children:[e.price,"\u20ac"]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-orange btn-block",children:"Ajouter au panier"})]},e._id)}))})]})}}]),n}(c.a.Component)),g=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={clicks:1},e.getSingleProduct=function(){var t=e.props.match.params;j.a.get("http://localhost:5000/api/products/".concat(t.id)).then((function(t){var n=t.data;e.setState(n)})).catch((function(e){console.log("Error while fetching product",e)}))},e.IncrementItem=function(){e.setState({clicks:e.state.clicks+1})},e.DecreaseItem=function(){e.state.clicks>1&&e.setState({clicks:e.state.clicks-1})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getSingleProduct()}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{id:"product-detail",children:[Object(s.jsxs)("div",{className:"header p-2",children:[Object(s.jsx)(b.b,{to:"/",children:Object(s.jsx)("img",{src:"../white-arrow.png",alt:""})}),Object(s.jsx)("img",{src:"../menu.png",alt:""})]}),Object(s.jsxs)("div",{className:"product-card",children:[Object(s.jsx)("img",{className:"product-image",src:this.state.photo,alt:""}),Object(s.jsxs)("div",{className:"product-description",children:[Object(s.jsx)("div",{className:"left"}),Object(s.jsxs)("div",{className:"right d-flex flex-column justify-content-between",style:{height:"100%"},children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(s.jsx)("h5",{children:this.state.name}),Object(s.jsxs)("div",{className:"d-flex justify-content-evenly",children:[Object(s.jsx)("button",{style:{border:"none"},className:"pr-2 remove",onClick:this.DecreaseItem,children:"-"}),Object(s.jsx)("button",{style:{border:"none"},className:"pr-2 quantity",children:this.state.clicks}),Object(s.jsx)("button",{style:{border:"none"},className:"pr-2 add",onClick:this.IncrementItem,children:"+"})]})]}),Object(s.jsxs)("h6",{children:[this.state.price," \u20ac"]}),Object(s.jsx)("div",{className:"portion d-flex justify-content-center",children:Object(s.jsxs)("p",{children:[this.state.portion," pers. - ",this.state.calories," kcal"]})}),Object(s.jsxs)("div",{className:"description",children:[Object(s.jsx)("h5",{children:"Description"}),Object(s.jsx)("p",{children:this.state.description})]})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-orange btn-block",children:"Ajouter au panier"})]})]})]})]}),Object(s.jsx)("style",{type:"text/css",children:".navbar {display: none}"})]})}}]),n}(a.Component),x=j.a.create({baseURL:"".concat("https://ironresto.herokuapp.com/"),withCredentials:!0});function f(e,t,n,s,a){return x.post("/signup",{username:e,password:t,email:n,phone:s,type:a}).then((function(e){return e.data}))}function v(e,t,n){return x.post("/login",{username:e,password:t,email:n}).then((function(e){return e.data}))}var y=function(e){return Object(s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(s.jsx)("div",{className:"collapse navbar-collapse",children:e.userInSession?Object(s.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("img",{src:"logo.png",alt:""})}),Object(s.jsxs)("li",{className:"nav-item",children:["Welcome, ",e.userInSession.username]}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("button",{onClick:function(t){x.post("/logout",{}).then((function(e){return e.data})).then((function(){return e.updateUser(null)}))},children:"Logout"})})]}):Object(s.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(b.b,{className:"nav-link",to:"/",children:"Homepage"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(b.b,{className:"nav-link",to:"/signup",children:"Signup"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(b.b,{className:"nav-link",to:"/login",children:"Login"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(b.b,{className:"nav-link",to:"/products",children:"Produits"})})]})})})},N=n(18),w=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",email:"",phone:"",type:"user"},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state.username,s=e.state.password,a=e.state.phone;f(n,s,e.state.email,a,e.state.type).then((function(t){e.setState({username:"",password:"",phone:"",email:"",type:"user"}),e.props.updateUser(t)})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(N.a)({},s,a))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"auth",children:[Object(s.jsx)("img",{src:"logo.png",alt:""}),Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email address"}),Object(s.jsx)("input",{type:"email",className:"form-control",placeholder:"Entrez votre email",name:"email",id:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",name:"password",placeholder:"Entrez votre mot de passe",id:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},className:"form-control"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Username"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Entrez votre username",name:"username",id:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Phone"}),Object(s.jsx)("input",{type:"tel",className:"form-control",placeholder:"Entrez votre t\xe9l\xe9phone",name:"phone",id:"phone",value:this.state.phone,onChange:function(t){return e.handleChange(t)}})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-orange btn-block",children:"Sign Up"}),Object(s.jsx)("p",{className:"forgot-password text-right",children:Object(s.jsxs)("p",{children:["Already registered ?",Object(s.jsx)(b.b,{to:"/login",children:"Login"})]})})]})]})}}]),n}(c.a.Component),k=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",email:""},e.handleFormSubmit=function(t){t.preventDefault(),v(e.state.username,e.state.password,e.state.email).then((function(t){e.setState({username:"",password:"",email:""})})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState(Object(N.a)({},s,a))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"auth",children:[Object(s.jsx)("img",{src:"logo.png",alt:""}),Object(s.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(s.jsx)("h3",{children:"Login"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email address"}),Object(s.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",name:"email",id:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Username"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter username",name:"username",id:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",name:"password",id:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-orange btn-block",children:"Submit"}),Object(s.jsx)("p",{className:"forgot-password text-right",children:Object(s.jsxs)("p",{children:["Don't have an account ?",Object(s.jsx)(b.b,{to:"/signup",children:"Signup"})]})})]})]})}}]),n}(c.a.Component),C=n(3),S=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={loggedInUser:null},e.updateLoggedInUser=function(t){e.setState({loggedInUser:t})},e}return Object(l.a)(n,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&x.get("/loggedin").then((function(e){return e.data})).then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(y,{userInSession:this.state.loggedInUser,updateUser:this.updateLoggedInUser}),Object(s.jsxs)(C.c,{children:[Object(s.jsx)(C.a,{exact:!0,path:"/",component:O}),Object(s.jsx)(C.a,{exact:!0,path:"/login",component:k}),Object(s.jsx)(C.a,{exact:!0,path:"/signup",render:function(){return Object(s.jsx)(w,{updateUser:e.updateLoggedInUser})}}),Object(s.jsx)(C.a,{exact:!0,path:"/products/:id",component:g})]})]})}}]),n}(c.a.Component),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};n(67);i.a.render(Object(s.jsx)(b.a,{children:Object(s.jsx)(S,{})}),document.getElementById("root")),I()}},[[68,1,2]]]);
//# sourceMappingURL=main.88dfc77d.chunk.js.map